"use strict";(self.webpackChunkAimpoint_Roots=self.webpackChunkAimpoint_Roots||[]).push([[295],{67722:(t,e,i)=>{function r(t){return"string"==typeof t&&0!==t.length}i.d(e,{A:()=>r})},71779:(t,e,i)=>{i.d(e,{i:()=>n});var r="translations",a=function(t){return!!Object.keys(t[r]).length},n=function(t){var e=function(){for(var t=0;t<arguments.length;t++){var e=JSON.parse(t<0||arguments.length<=t?void 0:arguments[t]);if(a(e))return e}}(t.validationDictionaryJSON,t.validationFallbackDictionaryJSON,t.validationDefaultDictionaryJSON),i=Object.values(e[r]);return Object.keys(e[r]).map((function(t){return t.split(".").pop()})).reduce((function(t,e,r){return t[e]=i[r],t}),{})}},96295:(t,e,i)=>{i.r(e),i.d(e,{default:()=>s});var r=i(91238),a=i(41582),n=i(67722),o=i(61579),c=i(71779),f=i(96609),u=i(4621),l=i(33977),m=i(33270);function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}var s=function(t){var e,i;function r(e){var i;(i=t.call(this,e)||this).validationDictionary=(0,c.i)(e);var r=m("#gift-certificate-balance"),n=m("#gift-certificate-form"),p=n.find('input[name="certificate_amount"]'),s=(0,a.A)({submit:'#gift-certificate-form input[type="submit"]',delay:300,tap:f.dN});if(p.length){var d=n.find('input[name="certificate_amount"]'),g=d.data("min"),v=d.data("minFormatted"),h=d.data("max"),y=d.data("maxFormatted");s.add({selector:'#gift-certificate-form input[name="certificate_amount"]',validate:function(t,e){var i=Number(e);i||t(!1),t(i>=g&&i<=h)},errorMessage:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];var a=t;return["[MIN]","[MAX]"].forEach((function(t,e){a=a.includes(t)?a.replace(t,i[e]):a})),a}(i.validationDictionary.certificate_amount_range,v,y)})}if(s.add([{selector:'#gift-certificate-form input[name="to_name"]',validate:function(t,e){t(function(t){return t.length}(e))},errorMessage:i.context.toName},{selector:'#gift-certificate-form input[name="to_email"]',validate:function(t,e){t(function(){return o.A.email.apply(o.A,arguments)}(e))},errorMessage:i.context.toEmail},{selector:'#gift-certificate-form input[name="from_name"]',validate:function(t,e){t(function(t){return t.length}(e))},errorMessage:i.context.fromName},{selector:'#gift-certificate-form input[name="from_email"]',validate:function(t,e){t(function(){return o.A.email.apply(o.A,arguments)}(e))},errorMessage:i.context.fromEmail},{selector:'#gift-certificate-form input[name="certificate_theme"]:first-of-type',triggeredBy:'#gift-certificate-form input[name="certificate_theme"]',validate:function(t){t("string"==typeof n.find('input[name="certificate_theme"]:checked').val())},errorMessage:i.context.certTheme},{selector:'#gift-certificate-form input[name="agree"]',validate:function(t){t(n.find('input[name="agree"]').get(0).checked)},errorMessage:i.context.agreeToTerms},{selector:'#gift-certificate-form input[name="agree2"]',validate:function(t){t(n.find('input[name="agree2"]').get(0).checked)},errorMessage:i.context.agreeToTerms}]),r.length){var _=i.checkCertBalanceValidator(r);r.on("submit",(function(){if(_.performCheck(),!_.areAll("valid"))return!1}))}return n.on("submit",(function(t){if(s.performCheck(),!s.areAll("valid"))return t.preventDefault()})),m("#gift-certificate-preview").click((function(t){if(t.preventDefault(),s.performCheck(),s.areAll("valid")){var e=(0,l.PM)(),r=m(t.currentTarget).data("previewUrl")+"&"+n.serialize();e.open(),u.FH.getPage(r,{},(function(t,r){if(t)return e.updateContent(i.context.previewError);e.updateContent(r,{wrap:!0})}))}})),i}return i=t,(e=r).prototype=Object.create(i.prototype),e.prototype.constructor=e,p(e,i),r.prototype.checkCertBalanceValidator=function(t){var e=(0,a.A)({submit:t.find('input[type="submit"]'),tap:f.dN});return e.add({selector:t.find('input[name="giftcertificatecode"]'),validate:function(t,e){t((0,n.A)(e))},errorMessage:this.validationDictionary.invalid_gift_certificate}),e},r}(r.A)}}]);
//# sourceMappingURL=theme-bundle.chunk.295.js.map
